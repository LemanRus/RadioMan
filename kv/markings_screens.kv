<MarkingsScreenManager>:
    id: msm
    MarkingsScreen:
    THResistorsMarkingScreen:
    SMDResistorsMarkingScreen:
    CapacitorsMarkingScreen:
    ResistorsMarkingsSelectScreen:

<ResistorsMarkingsSelectScreen>:
    name: "resistors_markings_select_screen"
    md_bg_color: app.theme_cls.bg_dark

    MDScrollView:
        pos_hint: {"top": (root.height - resistors_markings_top_bar.height) / root.height}
        size_hint_y: (root.height - sp(60)) / root.height

        MDList:
            spacing: "10dp"
            padding: "15dp", "10dp"

            MDCard:
                ripple_behavior: True
                size_hint_y: None
                height: self.minimum_height
                spacing: "20sp"
                padding: "15sp"
                on_release: root.parent.current = "th_resistors_marking_screen"
                elevation: 1

                MDIconButton:
                    ripple_scale: 0
                    size_hint_y: None
                    icon: "media/th_resistor.png"
                    icon_size: "50sp"
                    pos_hint: {"center_y": 0.5}
                    on_release: root.parent.current = "th_resistors_marking_screen"

                MDLabel:
                    text: "Резисторы сквозного монтажа"
                    shorten: True
                    shorten_from: "right"
                    size_hint_y: None
                    pos_hint: {"center_y": 0.5}

            MDCard:
                ripple_behavior: True
                size_hint_y: None
                height: self.minimum_height
                spacing: "20sp"
                padding: "15sp"
                on_release: root.parent.current = "smd_resistors_marking_screen"
                elevation: 1

                MDIconButton:
                    ripple_scale: 0
                    size_hint_y: None
                    icon: "media/smd_resistor.png"
                    icon_size: "50sp"
                    pos_hint: {"center_y": 0.5}
                    on_release: root.parent.current = "smd_resistors_marking_screen"

                MDLabel:
                    text: "SMD резисторы"
                    shorten: True
                    shorten_from: "right"
                    size_hint_y: None
                    pos_hint: {"center_y": 0.5}

    MDTopAppBar:
        id: resistors_markings_top_bar
        title: "Маркировки резисторов"
        pos_hint: {"top": 1}
        elevation: 1

<THResistorsMarkingScreen>:
    name: "th_resistors_marking_screen"
    MDScrollView:
        on_parent: root.build_menu()
        pos_hint: {"top": (root.height - markings_top_bar.height) / root.height}
        size_hint_y: (root.height - sp(60)) / root.height

        MDGridLayout:
            cols: 1
            size_hint_y: None
            height: self.minimum_height
            spacing: "10dp"
            padding: "15dp", "10dp"

            MDCard:
                size_hint_y: None
                height: self.minimum_height

                MDLabel:
                    text: "Выберите количество полос:"

                MDFlatButton:
                    id: bands_select_menu
                    text: "3"
                    width: root.width / 3
                    on_release: root.menu.open()

            MDRelativeLayout:
                size_hint_y: None
                height: root.height / 2.5

                BoxLayout:
                    size_hint_y: None
                    height: root.height / 2.5
                    pos_hint: {"top": 1}

                    Image:
                        source: "media/resistor2.png"
                        pos_hint: {"top": 1}
                        fit_mode: "fill"

                BoxLayout:
                    id: bands
                    size_hint_y: None
                    height: root.height / 2.5
                    pos_hint: {"top": 1}
                    padding: [root.width / 6, sp(20)]
                    spacing: sp(10)
                    on_parent: root.build_bands(3)

            MDCard:
                size_hint: (1, None)
                height: self.minimum_height
                padding: sp(15)

                MDLabel:
                    id: result
                    text: "Результат:"
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    size_hint_y: None
                    size: self.texture_size

                MDRaisedButton:
                    text: "Рассчитать"
                    pos_hint: {"center_y": 0.5}
                    size_hint_y: None
                    on_release: root.calculate_resistor()

    MDTopAppBar:
        id: markings_top_bar
        title: "Маркировки"
        pos_hint: {"top": 1}
        elevation: 1


<SMDResistorsMarkingScreen>:
    name: "smd_resistors_marking_screen"
    MDScrollView:
        pos_hint: {"top": (root.height - markings_top_bar.height) / root.height}
        size_hint_y: (root.height - sp(60)) / root.height

        MDGridLayout:
            cols: 1
            size_hint_y: None
            height: self.minimum_height
            spacing: "10dp"
            padding: "15dp", "10dp"

            MDRelativeLayout:
                size_hint_y: None
                height: root.height / 3

                BoxLayout:
                    size_hint_y: None
                    height: root.height / 3
                    pos_hint: {"top": 1}

                    Image:
                        source: "media/resistor.png"
                        pos_hint: {"top": 1}
                        fit_mode: "fill"

                BoxLayout:
                    id: resistor_bands
                    size_hint_y: None
                    height: root.height / 3
                    pos_hint: {"top": 1}

            MDLabel:
                text: "Резисторы сквозного монтажа"
                pos_hint: {"center_x": 0.5}
                size_hint_y: None
                size: self.texture_size

            MDLabel:
                text: "Резисторы сквозного монтажа"
                pos_hint: {"center_x": 0.5}
                size_hint_y: None
                size: self.texture_size

    MDTopAppBar:
        id: markings_top_bar
        title: "Маркировки"
        pos_hint: {"top": 1}
        elevation: 1


<CapacitorsMarkingScreen>:
    name: "capacitors_marking_screen"

    MDBoxLayout:
        orientation: "vertical"
